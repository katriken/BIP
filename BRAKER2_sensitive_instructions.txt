Instructions for running BRAKER2 in a sensitive/overprediction mode (Dr. Tomas Bruna).

1. Run a regular BRAKER2 to train the base model

    braker.pl --genome genome.fasta.masked --prot_seq proteins.fa \
        --species a_thaliana --softmasking --cores 8 --workingdir braker_standard \
        --AUGUSTUS_CONFIG_PATH /path/to/Augustus/config


2. Relax the minimum coding length in the model

In file /path/to/Augustus/config/species/a_thaliana/a_thaliana_parameters.cfg,
change the line
    /Constant/min_coding_len              201
to
    /Constant/min_coding_len              50


3. Run BRAKER2 again to generate more sensitive seeds for ProtHint. This is
   achieved by ignoring repeat masking and using the model with relaxed
   minimum coding length.

    braker.pl --genome genome.fasta.masked --hints braker_standard/hintsfile.gff
        --species a_thaliana --skipAllTraining --cores 8 --workingdir braker_seeds \
        --AUGUSTUS_CONFIG_PATH /path/to/Augustus/config


4. Run ProtHint with the sensitive seeds from step 3.

    prothint.py genome.fasta.masked proteins.fa \
        --geneSeeds braker_seeds/augustus.hints.gtf
        --workdir prothint_sensitive


5. Remove chained and manual hints from the hint set generated by ProtHint.
   The removal of these hint types gives the algorithm more freedom to generate
   novel isoforms.

    grep -v src=M prothint_sensitive/prothint_augustus.gff | grep -v src=C > evidence_no_M_C.gff


6. Decrease the penalty for predicting exons and introns not supported by hints.

In file /path/to/BRAKER/scripts/cfg/ep.cfg, change the intron mallus from 
0.168 to 0.3 and the CDSpart mallus from 0.99 0.999. The edited config file
is included in this archive under the name ep_smallMalus.cfg.


7. Run the relaxed BRAKER prediction

    braker.pl --genome genome.fasta.masked --hints evidence_no_M_C.gff \
        --skipAllTraining --species a_thaliana --cores 8 \
        --augustus_args "--minexonintronprob=0 --minmeanexonintronprob=0 \
        --maxtracks=20 --sample=1000 --alternatives-from-sampling=true \
        --temperature=3" --extrinsicCfgFiles ep_smallMalus.cfg \
        --workingdir braker_sensitive --AUGUSTUS_CONFIG_PATH /path/to/Augustus/config

